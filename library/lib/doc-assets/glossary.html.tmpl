[:!let gls [:@glossary]]
[:? {$gls ne ""} {
[:!let entries [sorted $gls name]]
<dl id="glossary" title="Project glossary">
  [:for entry $entries {
  [:!let ddesc [$entry as_text]]
  [:?objvar $entry @acronym {
  [:!let dtext [$entry @acronym]]
  [:? {$ddesc ne ""} {
    [:!let ddesc "[$entry @pretty_name]&nbsp;&mdash;&nbsp;$ddesc"]
  } - {
     [:!let ddesc "[$entry @pretty_name]"]
  }]
 
  } - {
  [:!let dtext [$entry @pretty_name]]
  }]
    <dt>
      <a name="[$entry name]"></a>
      <span class="caps">$dtext</span></dt>
  <dd>$ddesc
    [:?objvar $entry refs {
    [:? {[$entry eval [concat dict exists \${:refs} [current]]]} { 
      [:!let refs [sort_by_value [$entry eval [concat dict get \${:refs} [current]]]]]
  <div class="section field member"
       rel="yui:member"  resource="#">
    <div class="content" rel="yui:properties">
      <code>
        [:for src  [dict keys $refs] {
        <span rel="yui:property"
              resource="[$src href]"> 
          [$src make_link [current]]
          <!--<a class=""
             href="[$src href]" property="yui:name"
             title="[$src name]">[$src name]</a>-->&nbsp;([dict get $refs $src])
        </span>
	}]
      </code>
    </div>
  </div>
  }]
  }]
  </dd>
  }]
  }]
  
